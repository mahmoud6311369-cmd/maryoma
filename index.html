<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Maryoma ğŸ–¤â¤ï¸</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#07070a; --bg1:#0b0b10;
      --text:#f3f3f3; --muted: rgba(243,243,243,.72);
      --card: rgba(255,255,255,.06); --card2: rgba(255,255,255,.04);
      --border: rgba(255,255,255,.10);
      --accent:#e11d48; --accentSoft: rgba(225,29,72,.18);
      --shadow: 0 22px 90px rgba(0,0,0,.62);
      --radius: 28px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family:"Cairo", system-ui, -apple-system, Segoe UI, Arial;
      color:var(--text);
      background:
        radial-gradient(1000px 520px at 16% 10%, rgba(225,29,72,.14), transparent 55%),
        radial-gradient(900px 650px at 86% 20%, rgba(225,29,72,.10), transparent 60%),
        linear-gradient(135deg, var(--bg0), var(--bg1));
      overflow-x:hidden;

      font-weight: 600;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Ø®Ù„ÙÙŠØ© Ù‚Ù„ÙˆØ¨ Ø£ÙˆØ¶Ø­ */
    .float{
      position:fixed; inset:-40px;
      pointer-events:none;
      opacity:.65;
      z-index:0;
    }
    .float span{
      position:absolute;
      width:14px; height:14px;
      transform: rotate(45deg);
      background: rgba(225,29,72,.22);
      border-radius: 5px;
      animation: drift 14s linear infinite;
      box-shadow: 0 0 28px rgba(225,29,72,.30);
      filter: blur(.2px);
      will-change: transform, opacity;
    }
    .float span::before,.float span::after{
      content:""; position:absolute; width:14px; height:14px;
      background: inherit; border-radius: 50%;
    }
    .float span::before{ left:-7px; top:0; }
    .float span::after{ left:0; top:-7px; }

    @keyframes drift{
      from{ transform: translateY(120vh) rotate(45deg); }
      to{ transform: translateY(-35vh) rotate(45deg); }
    }

    /* Burst animation (Ø¨Ø¯ÙŠÙ„ element.animate Ø¹Ø´Ø§Ù† Quick Code) */
    .float span.burst{
      animation: burstMove var(--dur, 1100ms) cubic-bezier(.2,.9,.2,1) forwards !important;
    }
    @keyframes burstMove{
      from{ transform: translate(0,0) rotate(45deg) scale(1); opacity: 1; }
      to  { transform: translate(var(--dx, 0px), var(--dy, -200px)) rotate(45deg) scale(var(--sc, 1)); opacity: 0; }
    }

    .page{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: clamp(16px, 3.5vw, 38px);
      position:relative;
      z-index:1;
    }

    .container{
      width:min(1140px, 100%);
      display:grid;
      grid-template-columns: 1.35fr .65fr;
      gap:18px;
      align-items:stretch;
    }

    .card{
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--card), var(--card2));
      border:1px solid var(--border);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      overflow:hidden;
    }

    .mainHeader{ padding: 30px 30px 14px; }
    .badge{
      display:inline-flex; gap:8px; align-items:center;
      padding:8px 12px; border-radius:999px;
      background: var(--accentSoft);
      border: 1px solid rgba(225,29,72,.35);
      color: #ffd5df;
      font-weight: 900;
      letter-spacing:.2px;
      font-size:14px;
    }
    .title{
      margin: 14px 0 10px;
      font-size: clamp(28px, 3.8vw, 54px);
      line-height:1.02;
      font-weight: 900;
      letter-spacing: .2px;
    }
    .name{ color:#fff; text-shadow: 0 0 26px rgba(225,29,72,.28); }
    .lead{
      margin:0;
      color: var(--muted);
      font-size:16px;
      line-height:1.9;
      max-width: 62ch;
      letter-spacing: .15px;
    }

    .grid{
      padding: 0 30px 26px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
    }
    .panel{
      border-radius: 22px;
      padding:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
      min-height: 190px;
      line-height: 1.9;
    }
    .panel h3{
      margin:0 0 8px;
      font-size:18px;
      font-weight: 900;
      display:flex; align-items:center; gap:8px;
    }
    .panel small{ color: rgba(243,243,243,.68); }

    .cta{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
    button{
      border:0; cursor:pointer;
      padding:12px 16px;
      border-radius:16px;
      font-weight: 900;
      font-family: inherit;
      color:#fff;
      transition: transform .08s ease, opacity .2s ease;
    }
    button:active{ transform: translateY(1px) scale(.99); }
    .btn-primary{
      background: linear-gradient(135deg, var(--accent), #b31237);
      box-shadow: 0 14px 34px rgba(225,29,72,.25);
    }
    .btn-ghost{
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      color: rgba(255,255,255,.92);
    }
    .btn-primary:hover{ opacity:.96; }
    .btn-ghost:hover{ opacity:.96; }

    .typeBox{
      min-height: 104px;
      font-size:16px;
      line-height:1.95;
      color: rgba(255,255,255,.90);
      padding-top: 6px;
      letter-spacing: .12px;
    }

    .footerNote{
      padding: 0 30px 26px;
      color: rgba(243,243,243,.60);
      font-size: 13px;
      letter-spacing: .1px;
    }

    /* Ù…Ø´ØºÙ„ Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø£Ù†ÙŠÙ‚ */
    .music{
      margin-top:14px;
      padding:12px;
      border-radius:20px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      display:grid;
      gap:10px;
    }
    .musicTop{
      display:flex; justify-content:space-between; align-items:center;
      gap:10px; flex-wrap:wrap;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      font-weight:900;
      font-size:14px;
      color: rgba(255,255,255,.9);
    }
    .rowLine{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .time{
      font-variant-numeric: tabular-nums;
      color: rgba(255,255,255,.75);
      font-size:13px;
      min-width: 112px;
      text-align:center;
    }
    input[type="range"]{ width:100%; accent-color: var(--accent); }
    .vol{ width: 170px; min-width: 140px; }

    /* Ø§Ù„Ø³Ø§ÙŠØ¯ */
    .side{ padding:22px; display:flex; flex-direction:column; gap:14px; }
    .photo{
      border-radius: 24px; overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      position:relative;
      min-height: 340px;
      box-shadow: 0 18px 58px rgba(0,0,0,.45);
      background: rgba(0,0,0,.18);
    }
    .photo img{
      width:100%; height:100%;
      object-fit:cover; display:block;
      filter: contrast(1.03) saturate(1.06);
      transform: scale(1.02);
    }
    .photo::after{
      content:""; position:absolute; inset:0;
      background:
        radial-gradient(560px 280px at 20% 10%, rgba(225,29,72,.32), transparent 55%),
        linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.64));
      pointer-events:none;
    }
    .caption{
      position:absolute; left:14px; right:14px; bottom:14px;
      padding:12px 14px;
      border-radius:18px;
      background: rgba(0,0,0,.42);
      border:1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      font-weight:900;
      display:flex; justify-content:space-between; gap:10px;
    }
    .caption b{ color:#ffb3c3; text-shadow: 0 0 18px rgba(225,29,72,.22); }

    .quote{
      padding:16px;
      border-radius: 22px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
      line-height:1.9;
      color: rgba(255,255,255,.90);
      letter-spacing: .12px;
    }
    .quote b{ color:#ffb3c3; }

    dialog{
      width:min(560px, 92vw);
      border:0; border-radius: 24px;
      padding:0;
      box-shadow: var(--shadow);
      background: rgba(12,12,16,.92);
      border:1px solid rgba(255,255,255,.10);
      color:#fff;
      backdrop-filter: blur(12px);
    }
    dialog::backdrop{ background: rgba(0,0,0,.55); }
    .modal{ padding:20px; }
    .modal h2{ margin:0 0 8px; font-weight:900; }
    .modal p{ margin:0 0 14px; line-height:1.95; color: rgba(255,255,255,.86); }
    .modal .row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }

    /* Ø´Ø§Ø´Ø© Ø¨Ø§Ø³ÙˆØ±Ø¯ */
    .gate{
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      padding:24px;
      background: rgba(0,0,0,.70);
      backdrop-filter: blur(12px);
      z-index: 999;
    }
    .gateCard{
      width:min(560px, 100%);
      border-radius: 28px;
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      box-shadow: var(--shadow);
      padding: 20px;
    }
    .gateTitle{ margin:12px 0 8px; font-weight:900; font-size:22px; letter-spacing:.12px; }
    .gateText{ margin:0 0 14px; color: rgba(243,243,243,.80); line-height:1.9; letter-spacing:.1px; }
    .field{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top: 10px;
    }
    input[type="password"]{
      flex: 1 1 220px;
      padding: 12px 14px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.30);
      color:#fff;
      outline:none;
      font-family: inherit;
      font-weight:800;
      letter-spacing:.15px;
    }
    .err{
      margin-top:10px;
      color: #ffb3c3;
      font-weight:800;
      display:none;
      letter-spacing:.1px;
    }

    @media (max-width: 900px){
      .container{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: 1fr; }
      .photo{ min-height: 280px; }
      .time{ min-width: 90px; }
      .vol{ width: 100%; }
    }
  </style>
</head>

<body>
  <div class="float" aria-hidden="true" id="float"></div>

  <!-- Password Gate -->
  <div class="gate" id="gate">
    <div class="gateCard">
      <div class="badge">ğŸ–¤â¤ï¸ ØµÙØ­Ø© Ø®Ø§ØµØ© Ø¨Ù€ <span class="name">Maryoma</span></div>
      <h2 class="gateTitle">Ø§Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ Ù„Ù„Ø¯Ø®ÙˆÙ„ ğŸ”’</h2>
      <p class="gateText">
â€‹"Ø£Ù†Øª Ù…Ø´ Ø¨Ø³ Ø­Ø¨ÙŠØ¨ÙŠØŒ Ø£Ù†Øª Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù„ÙŠ Ø¨ØªÙ‡Ø±Ø¨ Ø¥Ù„ÙŠÙ‡ Ø±ÙˆØ­ÙŠ Ù…Ù† ØªØ¹Ø¨ Ø§Ù„Ø¯Ù†ÙŠØ§."
      </p>

      <div class="field">
        <input id="pw" type="password" placeholder="Ø§Ù†ØªÙŠ Ø¹Ø±ÙØ§Ù‡ğŸ¥ºâ¤" autocomplete="off" inputmode="text">
        <button class="btn-primary" id="loginBtn">Ø¯Ø®ÙˆÙ„ âœ¨</button>
        <button class="btn-ghost" id="enterMute">Ø¯Ø®ÙˆÙ„ Ø¨Ø¯ÙˆÙ† Ù…ÙˆØ³ÙŠÙ‚Ù‰</button>
      </div>

      <div class="err" id="err">Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ ØºÙ„Ø·â€¦ Ø¬Ø±Ù‘Ø¨ ØªØ§Ù†ÙŠ â¤ï¸</div>

      <p class="gateText" style="margin-top:12px; font-size:13px; opacity:.75;">
        : <b></b>  <b></b>
      </p>
    </div>
  </div>

  <div class="page">
    <main class="container">
      <section class="card">
        <header class="mainHeader">
          <div class="badge">ğŸ–¤â¤ï¸ Ø±Ø³Ø§Ù„Ø© Ø¥Ù„Ù‰ <span class="name">Maryoma</span></div>
          <h1 class="title">Ù…Ù€Ø±ï¯¾Ù€Ù…â€¦ <span style="color:#ffb3c3;">Ø£Ù†ØªÙ</span> Ø§Ù„Ù‡Ø¯ÙˆØ¡ ÙˆØ³Ø· ÙƒÙ„ Ø¯ÙˆØ´Ø©</h1>
          <p class="lead"> </p>
        </header>

        <div class="grid">
          <div class="panel">
            <h3>Ø°ÙƒÙ€Ø±ÙŠ ØªÙ€Ø¯ÙˆÙ… Ù„Ù„Ø§Ø¨Ù€Ø¯ â¤ğŸ«‚</h3>
            <small>ØªÙ€Ø§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ù†Ø§ Ø§Ù„ØªØ§Ù†ÙŠ</small>
            <div style="margin-top:10px; font-weight:900;">20/7/2025  â€” Ø£ÙˆÙ„ Ù…Ø±Ø© Ø­Ø³Ù‘ÙŠØª Ø¥Ù† Ø§Ù„Ø¯Ù†ÙŠØ§ Ø§ØªØ¸Ø¨Ø·Øª âœ¨</div>

            <div class="cta">
              <button class="btn-primary" id="openModal">Ø§ÙØªØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
              <button class="btn-ghost" id="sparkle">Ù‚Ù„ÙˆØ¨â¤</button>
            </div>

            <div class="music">
              <div class="musicTop">
                <div class="pill">ğŸµ Maryoma - song.mp3</div>
                <div class="pill" id="songStatus">Ø¬Ø§Ù‡Ø²</div>
              </div>

              <div class="rowLine">
                <button class="btn-primary" id="playBtn" style="padding:10px 14px; border-radius:14px;">â–¶ï¸ ØªØ´ØºÙŠÙ„</button>
                <div class="time" id="timeLabel">00:00 / 00:00</div>
              </div>

              <input id="seek" type="range" min="0" max="100" value="0" step="0.1" aria-label="Seek">

              <div class="rowLine" style="justify-content:space-between;">
                <div class="pill">ğŸ”Š Ø§Ù„ØµÙˆØª</div>
                <input class="vol" id="vol" type="range" min="0" max="1" value="0.65" step="0.01" aria-label="Volume">
              </div>

              <audio id="audio" preload="metadata" playsinline>
                <source src="song.m4a" type="audio/mp4">
              </audio>

              <small style="color:rgba(243,243,243,.65); line-height:1.8;">
              </small>
            </div>
          </div>

          <div class="panel">
            <h3>ğŸ’Œ ÙƒÙ„Ø§Ù… ØµØºÙŠØ±</h3>
            <div id="type" class="typeBox"></div>
            <small>   </small>
          </div>
        </div>

        <div class="footerNote">
          Ù„Ù€Ùˆ ÙØªØ­ØªÙ€ÙŠ Ù‚Ù„Ø¨Ù€ÙŠ Ù‡ØªÙ„Ø§Ù‚Ù€ÙŠ: <b>Ø¹ÙŠÙˆÙ†Ù€Ú¯</b> + <b>Ø¶Ø­ÙƒØªÙ€Ú¯</b> + <b>ØµÙˆØªÙ€Ú¯</b>.
        </div>
      </section>

      <aside class="card side">
        <div class="photo">
          <img src="maryoma.jpg" alt="Maryoma">
          <div class="caption">
            <span>ğŸ’— ØµÙˆØ±Ø© <b>Maryoma</b></span>
            <span style="opacity:.85;">ğŸ–¤â¤ï¸</span>
          </div>
        </div>

        <div class="quote">â€œ ÙˆØ¬ÙˆØ¯Ùƒ <b>Ø£Ù…Ø§Ù†</b>â€¦ ÙˆØµÙˆØªÙƒ Ø±Ø§Ø­Ø©â€¦ ÙˆØ§Ø¨ØªØ³Ø§Ù…ØªÙƒ Ø£Ø¬Ù…Ù„ Ø­Ø§Ø¬Ø© ÙÙŠ Ø§Ù„ÙŠÙˆÙ…. â€</div>

        <div class="quote">
          <b>Ø­Ø§Ø¬Ø§Øª Ø¨Ø­Ø¨Ù‡Ø§ ÙÙŠÙƒÙŠ:</b>
          <ul style="margin:10px 0 0; padding-inline-start:18px; color:rgba(255,255,255,.88);">
            <li>Ø§Ù„Ø¶Ø­ÙƒØ© Ø§Ù„Ù„ÙŠ Ø¨ØªØµÙ„Ù‘Ø­ Ø§Ù„ÙŠÙˆÙ…</li>
            <li>Ø§Ù„Ø±ÙˆØ­ Ø§Ù„Ø­Ù„ÙˆØ©</li>
            <li>Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ù„ÙŠ Ø¨ÙŠØ·Ù…Ù†</li>
          </ul>
        </div>
      </aside>
    </main>
  </div>

  <dialog id="modal">
    <div class="modal">
      <h2>â¤ï¸ Ø±Ø³Ø§Ù„Ø© Ù…Ø®ØµÙˆØµ Ù„Ù€ Ø­Ø¨ÙŠØ¨ØªÙ€ÙŠ</h2>
      <p>
        Ù…Ù‡Ù…Ø§ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø§ØªØºÙŠÙ‘Ø±Øªâ€¦ ÙˆØ¬ÙˆØ¯Ùƒ Ø«Ø§Ø¨Øª Ø¹Ù†Ø¯ÙŠ.
        Ø£Ù†Ø§ Ø¬Ù†Ø¨Ùƒ ÙˆÙ‚Øª Ø§Ù„ÙØ±Ø­â€¦ ÙˆÙˆÙ‚Øª Ø§Ù„Ø²Ø¹Ù„â€¦ ÙˆÙˆÙ‚Øª Ø§Ù„ØµÙ…Øª.
        Ù…Ø±ÙŠÙ…ØŒ Ø¥Ù†ØªÙ Ø£Ø­Ù„Ù‰ ØµØ¯ÙØ© ÙˆØ£ØºÙ„Ù‰ Ø§Ø®ØªÙŠØ§Ø±.
      </p>
      <div class="row">
        <button class="btn-primary" id="closeModal">ØªÙ…Ø§Ù… â¤ï¸</button>
        <button class="btn-ghost" id="copyText">Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
      </div>
    </div>
  </dialog>

  <script>
    // ====== (1) Ø¨Ø§Ø³ÙˆØ±Ø¯ ======
    const PASSWORD = "2072025"; // <-- ØºÙŠÙ‘Ø±Ù‡ Ù‡Ù†Ø§

    const gate = document.getElementById("gate");
    const pw = document.getElementById("pw");
    const loginBtn = document.getElementById("loginBtn");
    const enterMute = document.getElementById("enterMute");
    const err = document.getElementById("err");

    function shake(el){
      el.animate(
        [{transform:"translateX(0)"},{transform:"translateX(7px)"},{transform:"translateX(-7px)"},{transform:"translateX(0)"}],
        {duration:260, iterations:1}
      );
    }

    // ====== (2) Ø§Ù„Ù‚Ù„ÙˆØ¨ Ø¨Ø§Ù„Ø®Ù„ÙÙŠØ© ======
    const float = document.getElementById("float");
    function addBackgroundHearts(){
      float.innerHTML = "";
      const hearts = 40;
      for (let i = 0; i < hearts; i++) {
        const s = document.createElement("span");
        s.style.left = (Math.random()*100) + "%";
        s.style.animationDelay = (Math.random()*10) + "s";
        s.style.animationDuration = (12 + Math.random()*12) + "s";
        const size = 10 + Math.random()*16;
        s.style.width = size + "px";
        s.style.height = size + "px";
        const alpha = 0.16 + Math.random()*0.28;
        s.style.background = `rgba(225,29,72,${alpha.toFixed(2)})`;
        s.style.top = (70 + Math.random()*60) + "vh";
        float.appendChild(s);
      }
    }
    addBackgroundHearts();

    // ====== (3) ÙƒØªØ§Ø¨Ø© ØªØ¯Ø±ÙŠØ¬ÙŠØ© ======
    const msg = "Ù…Ø±ÙŠÙ…â€¦ Ø¨Ø­Ø¨ÙƒØŒ ÙˆØ¨Ø­Ø³ Ø¥Ù†Ùƒ Ø§Ù„Ù‡Ø¯ÙˆØ¡ ÙˆØ³Ø· ÙƒÙ„ Ø¯ÙˆØ´Ø©. ğŸ–¤â¤ï¸";
    const typeEl = document.getElementById("type");
    let idx = 0;
    function type(){
      if (idx <= msg.length){
        typeEl.textContent = msg.slice(0, idx++);
        requestAnimationFrame(() => setTimeout(type, 30));
      }
    }
    type();

    // ====== (4) Ù…ÙˆØ¯Ø§Ù„ ======
    const modal = document.getElementById("modal");
    document.getElementById("openModal").addEventListener("click", () => modal.showModal());
    document.getElementById("closeModal").addEventListener("click", () => modal.close());

    document.getElementById("copyText").addEventListener("click", async () => {
      const text = document.querySelector(".modal p").textContent.trim();
      try{ await navigator.clipboard.writeText(text); alert("Ø§ØªÙ†Ø³Ø®Øª â¤ï¸"); }
      catch(e){ alert("Ø§Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠÙ‹Ø§."); }
    });

    // ====== (Ø²Ø± ÙØ§Ø¬Ø£Ø© Ù‚Ù„ÙˆØ¨) Burst Ù…Ø¶Ù…ÙˆÙ† ÙÙŠ Quick Code ======
    function burstHearts(count = 26){
      for (let i = 0; i < count; i++){
        const s = document.createElement("span");
        s.classList.add("burst");

        const size = 10 + Math.random()*18;
        s.style.width = size + "px";
        s.style.height = size + "px";

        const x = 35 + Math.random()*30; // %
        const y = 45 + Math.random()*20; // vh
        s.style.left = x + "%";
        s.style.top  = y + "vh";

        const alpha = 0.22 + Math.random()*0.35;
        s.style.background = `rgba(225,29,72,${alpha.toFixed(2)})`;

        // Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±
        const dx = (Math.random()*180 - 90);     // px
        const dy = -(160 + Math.random()*260);   // px
        const sc = (0.7 + Math.random()*0.7);
        const dur = (900 + Math.random()*700);

        s.style.setProperty("--dx", dx + "px");
        s.style.setProperty("--dy", dy + "px");
        s.style.setProperty("--sc", sc);
        s.style.setProperty("--dur", dur + "ms");

        // Ù…Ù‡Ù…: Ø¨Ø¯ÙˆÙ† drift Ù„Ù„Ù€ burst
        s.style.animationDelay = "0s";

        float.appendChild(s);
        setTimeout(() => s.remove(), dur + 250);
      }
    }

    document.getElementById("sparkle").addEventListener("click", () => {
      burstHearts(34);
    });

    // ====== Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ + ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ ======
    async function enter(withMusic){
      gate.style.display = "none";
      if (!withMusic) return;
      try{
        await audio.play();
        setPlayingUI(true);
      }catch(e){
        songStatus.textContent = "Ø§Ø¶ØºØ· ØªØ´ØºÙŠÙ„";
      }
    }

    function tryLogin(withMusic){
      if (pw.value === PASSWORD){
        err.style.display = "none";
        enter(withMusic);
      }else{
        err.style.display = "block";
        shake(document.querySelector(".gateCard"));
        pw.focus();
      }
    }

    loginBtn.addEventListener("click", () => tryLogin(true));
    enterMute.addEventListener("click", () => tryLogin(false));
    pw.addEventListener("keydown", (e) => {
      if (e.key === "Enter") tryLogin(true);
    });

    // ====== (5) Ù…Ø´ØºÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ======
    const audio = document.getElementById("audio");
    const playBtn = document.getElementById("playBtn");
    const seek = document.getElementById("seek");
    const vol = document.getElementById("vol");
    const timeLabel = document.getElementById("timeLabel");
    const songStatus = document.getElementById("songStatus");

    function fmt(sec){
      if (!isFinite(sec)) return "00:00";
      sec = Math.max(0, Math.floor(sec));
      const m = String(Math.floor(sec / 60)).padStart(2,"0");
      const s = String(sec % 60).padStart(2,"0");
      return `${m}:${s}`;
    }

    audio.volume = Number(vol.value);
    vol.addEventListener("input", () => audio.volume = Number(vol.value));

    audio.addEventListener("error", () => songStatus.textContent = "Ù…Ø´ Ù„Ø§Ù‚ÙŠ song.mp3");
    audio.addEventListener("loadedmetadata", () => {
      timeLabel.textContent = `${fmt(0)} / ${fmt(audio.duration)}`;
      songStatus.textContent = "Ø¬Ø§Ù‡Ø²";
    });

    function setPlayingUI(isPlaying){
      playBtn.textContent = isPlaying ? "â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù" : "â–¶ï¸ ØªØ´ØºÙŠÙ„";
      songStatus.textContent = isPlaying ? "Ø´ØºÙ‘Ø§Ù„ Ø§Ù„Ø¢Ù†" : "Ù…ØªÙˆÙ‚Ù";
    }

    playBtn.addEventListener("click", async () => {
      try{
        if (audio.paused){ await audio.play(); setPlayingUI(true); }
        else { audio.pause(); setPlayingUI(false); }
      }catch(e){
        songStatus.textContent = "Ø§Ø¶ØºØ· ØªØ´ØºÙŠÙ„ ØªØ§Ù†ÙŠ";
      }
    });

    audio.addEventListener("timeupdate", () => {
      if (isFinite(audio.duration) && audio.duration > 0){
        seek.value = String((audio.currentTime / audio.duration) * 100);
        timeLabel.textContent = `${fmt(audio.currentTime)} / ${fmt(audio.duration)}`;
      }
    });

    seek.addEventListener("input", () => {
      if (isFinite(audio.duration) && audio.duration > 0){
        audio.currentTime = (Number(seek.value) / 100) * audio.duration;
      }
    });

    audio.addEventListener("ended", () => { setPlayingUI(false); seek.value = "0"; });
  </script>
</body>
  </html>
